{% extends 'base.html.twig' %}

{% block title %}Béocler - Evaluation
{% endblock %}

{% block body %}

	<main class="main">
		<section id="hero" class="hero section dark-background">
			<div id="hero-carousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
				<div class="carousel-item active">
					<img src="{{ asset('images/3.jpg') }}" alt="">
					<div class="carousel-container">
						<h2>Choix des patients<br></h2>
					</div>
				</div>

				<!-- End Carousel Item -->
			</div>

		</section>
	</main>

	<br>
	<div class="container section-title mt-5" data-aos="fade-up">
		<h2>Liste des patients</h2>

	</div>

	<div class="container main-container">
		<div class="row justify-content-center align-items-center">
			{% if not patients is empty%}
				<table class="table table-bordered table-striped table-hover text-center align-middle">
					<thead>

						<tr>
							<th>Nom Prénom</th>
							<th>Genre</th>
							<th>Niveau Scolaire</th>
							<th>Âge</th>
							<th>date de naissance</th>

						</tr>
					</thead>
					<tbody>
						{% for patient in patients %}
							<tr onclick="window.location='{{ path('app_evaluation', { 'idTest': idTest , 'idPatient': patient.id }) }}'; " style="cursor:pointer;" class="patient-row">
								<td>{{patient.name ~ " " ~ patient.lastname}}
								</td>
								<td>{{patient.gender}}</td>
								<td>{{patient.schoolgrade.name}}</td>
								{% set anneeCourante = "now"|date("Y") %}
								<td>{{anneeCourante - patient.birthdate|date('Y')}}</td>
								<td>{{patient.birthdate|date('d/m/Y')}}</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<h3>Vous n'avez pas encore créé de patients
				</h3>
			{% endif %}

		</div>
	</div>
{% endblock %}
